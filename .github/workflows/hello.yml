name: Hello GitHub Actions  # å·¥ä½œæµåç§°

on:                          # è§¦å‘æ¡ä»¶
  push:
    branches: [ main ]       # å½“ push åˆ° main åˆ†æ”¯æ—¶è§¦å‘
  pull_request:
    branches: [ main ]       # å½“ PR ç›®æ ‡ä¸º main æ—¶è§¦å‘

jobs:
  say-hello:                 # Job çš„ ID
    runs-on: self-hosted

    steps:
      - name: ç­¾å‡ºä»£ç         # æ­¥éª¤ 1ï¼šç­¾å‡ºä»“åº“ä»£ç 
        uses: actions/checkout@v4

      - name: æ‰“ä¸ªæ‹›å‘¼        # æ­¥éª¤ 2ï¼šè¿è¡Œå‘½ä»¤
        run: echo "Hello, GitHub Actions! ğŸ‰"

      - name: å®‰è£… cmake
        run: sudo apt-get update && sudo apt-get install -y cmake

      - name: è¿›è¡Œç¼–è¯‘
        run: mkdir -p build && cd build && cmake .. && make

      - name: è¿è¡Œç¨‹åº
        run: ./build/actions_test